{"version":3,"sources":["action/todo.js","action/index.js","reducer/todos.js","reducer/index.js","component/header/Header.js","component/todolist/Todo.js","component/todolist/TodoList.js","component/chat/ChatMessage.js","component/footer/Footer.js","component/chat/Input.js","component/chat/Chat.js","component/App.js","index.js","store/index.js"],"names":["ADD_TODO","COMPLETE_TODO","addTodo","text","type","addTodo2","dispatch","fetch","then","res","json","data","status","complete","id","complete2","data2","todo","state","action","Math","floor","random","completed","todos","undefined","map","t","combineReducers","Header","input","onClick","this","props","ref","node","value","Component","Todo","connect","txt","className","TodoList","ChatMessage","key","includes","result","split","line","push","time","message_type","isMine","align","i","length","renderMessage","src","img","renderProfile","name","renderMessageGroup","defaultProps","Input","inputName","inputText","onClickJoin","console","log","onClickSend","socket","io","testData","Chat","emit","convert","userid","room","convertData","idx","setState","forEach","JSON","stringify","renderText","joinChannel","sendMessage","App","store","reducer","initialState","enhancer","compose","applyMiddleware","thunk","window","devToolsExtension","f","createStore","configureStore","render","ReactDOM","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.36911f8a.chunk.js","sourcesContent":["// action type\r\nconst ADD_TODO = '@@example/ADD_TODO';\r\nconst COMPLETE_TODO = '@@example/COMPLETE_TODO';\r\n\r\n// action creators\r\nfunction addTodo(text) {\r\n  return { type : ADD_TODO, text };\r\n}\r\n\r\nfunction addTodo2(text) {\r\n  return (dispatch) => {\r\n    return fetch('api/add.json').then(\r\n      res => res.json().then(data => dispatch(addTodo(data.status)))\r\n    );\r\n  };\r\n}\r\n\r\nfunction complete({complete, id}) {\r\n  return { type: COMPLETE_TODO, complete, id };\r\n}\r\n\r\nfunction complete2(data2) {\r\n  return (dispatch) => {\r\n    return fetch('api/add.json').then(\r\n      res => res.json().then(data => dispatch(complete(data2)))\r\n    );\r\n  };\r\n}\r\n\r\nexport {\r\n  ADD_TODO,\r\n  COMPLETE_TODO,\r\n\r\n  addTodo,\r\n  addTodo2,\r\n\r\n  complete,\r\n  complete2\r\n}","import * as todo from './todo';\r\n\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport default {\r\n  todo\r\n}","import todoAction from 'action/index';\r\n\r\nconst {ADD_TODO, COMPLETE_TODO} = todoAction.todo;\r\n\r\nconst todo = (state, action) => {\r\n  switch (action.type) {\r\n    case ADD_TODO:\r\n      return {\r\n        id: Math.floor(Math.random() * 100) + 1,\r\n        todo: action.text,\r\n        completed: false\r\n      };\r\n\r\n    case COMPLETE_TODO:\r\n      if (state.id !== action.id) {\r\n        return state;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        complete: !state.complete\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst todos = (state = [], action) => {\r\n  switch (action.type) {\r\n    case ADD_TODO:\r\n      return [\r\n        ...state, todo(undefined, action)\r\n      ];\r\n    case COMPLETE_TODO:\r\n      return state.map(t => todo(t, action));\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default todos;","// reducer/index.js\r\nimport todos from \"./todos\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nexport default combineReducers({\r\n  todos\r\n});","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addTodo2 } from 'action/todo';\r\n\r\nclass Header extends Component {\r\n\r\n  render() {\r\n    let input;\r\n    const {onClick} = this.props;\r\n\r\n    return (\r\n      <div>\r\n          <input ref={node => {\r\n            input = node;\r\n          }}/>\r\n\r\n          <button onClick={() =>{\r\n            onClick(input.value);\r\n            input.value = \"\";\r\n          }}>Add</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst headerDispatchToProps = (dispatch) => {\r\n    return {\r\n        onClick(txt){\r\n          dispatch(addTodo2(txt))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(undefined, headerDispatchToProps)(Header);","import React, { Component } from 'react';\r\n\r\nclass Todo extends Component {\r\n    render() {\r\n        const {id, todo, complete, onClick} = this.props;\r\n        return (\r\n            <li id={id} \r\n                onClick={() => onClick({\r\n                    id : id, \r\n                    complete : !complete\r\n                })}\r\n                className={!!complete ? 'completed' : ''}\r\n            >{todo}</li>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Todo;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { complete, complete2 } from 'action/todo';\r\nimport Todo from './Todo';\r\n\r\nclass TodoList extends Component {\r\n  \r\n  render() {\r\n  \tconst {todos, onClick} = this.props;\r\n    return (\r\n      <ul>\r\n    \t\t{todos.map(todo =>\r\n    \t\t\t<Todo \r\n    \t\t\t\tkey={todo.id}\r\n    \t\t\t\tonClick={onClick}\r\n    \t\t\t\t{...todo}\r\n    \t\t\t/>\r\n    \t\t)}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst todolistStateToProps = (state) => {\r\n  return {\r\n    todos: state.todos\r\n  }\r\n}\r\n\r\nconst todolistDispatchToProps = (dispatch) => {\r\n    return {\r\n        onClick(data){\r\n          // dispatch(complete2(data))\r\n          dispatch(complete(data))\r\n        }\r\n    }\r\n}\r\nexport default connect(todolistStateToProps,todolistDispatchToProps)(TodoList);","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ChatMessage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  renderMessage(data)\r\n  {\r\n    var key = 0;\r\n    if (data.includes('\\n')) {\r\n      var result = [];\r\n      data.split('\\n').map( line => {\r\n        result.push(<span key={key++}>{line}<br/></span>);\r\n      });\r\n      return (<span key={key++} className='message'>{result}</span>);\r\n    }\r\n    else {\r\n      return (<span key={key++} className='message'>{data}</span>);\r\n    }\r\n  }\r\n\r\n  renderMessageGroup(data) {\r\n    const time = this.props.time.split(' ')[1];\r\n    const message_type = this.props.isMine ? 'my-chat' : 'your-chat';\r\n    const align = this.props.isMine ? 'right' : 'left'; \r\n    var result = [];\r\n\r\n    for(var i = 0 ; i < data.length; ++i) {\r\n      result.push(i > 0 ? <p></p> : <p/>);\r\n      if (i === data.length - 1 && this.props.isMine) {\r\n        result.push(<div key='timestamp' className='cell timestamp'>{time}</div>);\r\n      }\r\n      result.push(\r\n        <div key={i} className={'balloon ' + message_type + (i > 0 ? ' child' : '')}>\r\n          <div className={'text-message ' + align}> \r\n            {this.renderMessage(data[i])} \r\n          </div>\r\n        </div>\r\n        );\r\n    }\r\n\r\n    if (!this.props.isMine) {\r\n      result.push(<div key='timestamp' className='cell timestamp'>{time}</div>);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  renderProfile() {\r\n    return(\r\n      <div className='cell pic'>\r\n        <img src={this.props.img} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    const align = this.props.isMine ? 'right' : 'left'; \r\n\r\n    return (\r\n      <div id={'dv-chat-message'}>\r\n        <div className={'float-' + align}> \r\n          \r\n          <div className={'desc ' + align}>\r\n            {this.props.isMine ? null : this.renderProfile()}\r\n\r\n            <div className={'cell message-' + align}>\r\n              <div className={'name'}>{!this.props.isMine ? this.props.name : ''}</div>\r\n                {this.renderMessageGroup(this.props.text)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <p>&nbsp;</p>\r\n      </div>);\r\n  }\r\n}\r\n\r\nChatMessage.propTypes = {\r\n  isMine: PropTypes.bool,\r\n  text: PropTypes.array,\r\n  name: PropTypes.string,\r\n  time: PropTypes.string,\r\n  img: PropTypes.string\r\n};\r\nChatMessage.defaultProps = {\r\n  isMine: false,\r\n  text: [''],\r\n  name: '작성자',\r\n  time: '오전 00:00',\r\n  img: 'https://lh3.googleusercontent.com/proxy/A-2dhRZZaeZ0IWMPOlybAu7tR5UAtOaX3EpcWHJ5iMxQAmSwFWM6JOieS-om-Xr2zDK2soGyseTVRoKdAm8Y4g7bHS1GWo-7j9btj2yB5TCPNuBfzpnU_PEKcen09-Nhnn3XuC6EQqikgPbYtqUxlaAq0Uc'\r\n};\r\nexport default ChatMessage;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n    \t<div>\r\n\t        <a href=\"#\">1</a>\r\n\t        <a href=\"#\">2</a>\r\n\t        <a href=\"#\">3</a>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer","import React, { Component } from 'react';\r\nimport \"./Input.css\";\r\n\r\nclass Input extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.inputName = null;\r\n    this.inputText = null;\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  onClickJoin() {\r\n    if (!this.inputName.value) {\r\n\r\n    }\r\n    else {\r\n      var data = {\r\n        isMine: true,\r\n        text: this.inputText.value,\r\n        name: this.inputName.value,\r\n        img: 'https://lh3.googleusercontent.com/proxy/A-2dhRZZaeZ0IWMPOlybAu7tR5UAtOaX3EpcWHJ5iMxQAmSwFWM6JOieS-om-Xr2zDK2soGyseTVRoKdAm8Y4g7bHS1GWo-7j9btj2yB5TCPNuBfzpnU_PEKcen09-Nhnn3XuC6EQqikgPbYtqUxlaAq0Uc',\r\n        time: '2020-12-21 12:28'\r\n      };\r\n      this.props.onClickJoin(data);\r\n    }\r\n  }\r\n\r\n  onClickSend(){\r\n    console.log(this.inputName.value);\r\n    console.log(this.inputText.value);\r\n\r\n    if (!this.inputName.value) {\r\n\r\n    }\r\n    else if (!this.inputText.value) {\r\n\r\n    }\r\n    else {\r\n      var data = {\r\n        isMine: true,\r\n        text: this.inputText.value,\r\n        name: this.inputName.value,\r\n        img: 'https://lh3.googleusercontent.com/proxy/A-2dhRZZaeZ0IWMPOlybAu7tR5UAtOaX3EpcWHJ5iMxQAmSwFWM6JOieS-om-Xr2zDK2soGyseTVRoKdAm8Y4g7bHS1GWo-7j9btj2yB5TCPNuBfzpnU_PEKcen09-Nhnn3XuC6EQqikgPbYtqUxlaAq0Uc',\r\n        time: '2020-12-21 12:28'\r\n      };\r\n      this.props.onClickSend(data);\r\n    }\r\n  }\r\n\r\n  render(){\r\n    \r\n    return (\r\n      <div id = 'dv-chat-input'>\r\n        <label>\r\n          이름:\r\n          <input ref={node => { this.inputName = node; }}/>\r\n        </label>\r\n        <button onClickJoin={() =>{ this.onClickJoin(); }}>입장</button>\r\n        <div className='input-text'>\r\n          <textarea ref={node => { this.inputText = node; }}/>\r\n          <button onClickSend={() =>{ this.onClickSend(); }}>전송</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;","import React, { Component } from 'react';\r\nimport ChatMessage from './ChatMessage';\r\nimport './Chat.css';\r\nimport Input from \"./Input\";\r\nimport io from 'socket.io-client';\r\n\r\n//const uri = 'http://localhost:5000';\r\nconst socket = io.connect('http://localhost:5000/');\r\nconst testData = [];\r\n\r\nclass Chat extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n    }\r\n  }\r\n\r\n  join () {\r\n    socket.emit('login_user', {}, (data) => {\r\n      if (data.result === 'complete') {\r\n          console.log(data.data);\r\n      } \r\n    });\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.convert();\r\n\r\n    socket.emit('login', {\r\n      name: '상호',\r\n      userid: 'sangho@gmail.com',\r\n      room: 'public'\r\n    })\r\n  }\r\n\r\n  sendMessage(data){\r\n    testData.push(data);\r\n\r\n    var convertData = [];\r\n    convertData = this.state.data;\r\n    var idx = convertData.length - 1;\r\n\r\n    if (idx >= 0 && convertData[idx].name === data.name && convertData[idx].time === data.time) {\r\n      convertData[idx].text.push(data.text);\r\n    }\r\n    else {\r\n      convertData.push(data);\r\n      convertData[++idx].text = [data.text];\r\n    }\r\n\r\n    this.setState({\r\n      data: convertData\r\n    });\r\n  }\r\n\r\n  convert(){\r\n    var convertData = [];\r\n    var idx = -1;\r\n    testData.forEach(data => {\r\n      if (idx >= 0 && convertData[idx].name === data.name && convertData[idx].time === data.time) {\r\n        convertData[idx].text.push(data.text);\r\n      }\r\n      else {\r\n        convertData.push(data);\r\n        convertData[++idx].text = [data.text];\r\n      }\r\n    });\r\n    if (JSON.stringify(this.state.data) !== JSON.stringify(convertData)) {\r\n      this.setState({\r\n        data: convertData,\r\n      });\r\n    }\r\n  }\r\n\r\n  renderText()\r\n  {\r\n    var key = 0;\r\n    var result = [];\r\n    this.state.data.forEach(data => {\r\n      result.push(<ChatMessage\r\n        key={key++}\r\n        isMine={data.isMine}\r\n        text={data.text}\r\n        name={data.name}\r\n        img={data.img}\r\n        time={data.time}\r\n      />)\r\n    });\r\n    return (result);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id='dv-chat'>\r\n        <div id='dv-chat-body'>\r\n          {this.renderText()}\r\n        </div>\r\n        <Input\r\n          onClickJoin={ (data) => {this.joinChannel(data)} }\r\n          onClickSend={ (data)=>{this.sendMessage(data)} } \r\n        />\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default Chat;","import React, { Component } from 'react';\r\n\r\nimport Header from './header/Header';\r\nimport TodoList from './todolist/TodoList';\r\nimport Footer from './footer/Footer';\r\nimport Chat from 'component/chat/Chat';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (<div>\r\n      <Chat/>\r\n    </div>)\r\n    return (\r\n        <div>\r\n          <Header/>\r\n          <TodoList/>\r\n          <Footer/>\r\n          <Chat/>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport configureStore from './store/index';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport reducer from './reducer/index';\nimport App from './component/App'\nimport './index.css';\n\nconst store = configureStore(reducer,{\n\t\"todos\" : [\n\t\t/*{\"id\":1, \"todo\":\"빨래하기\", \"complete\":false},\n\t\t{\"id\":2, \"todo\":\"청소하기\", \"complete\":false},\n\t\t{\"id\":3, \"todo\":\"공부하기\", \"complete\":false}*/\n\t]\n});\n\nconst render = () => {\n  ReactDOM.render(\n  \t<Provider store={store}>\n\t    <App/>\n    </Provider>,\n    document.getElementById('root')\n  )\n};\n\nstore.subscribe(render);\nrender();","// store/index.js\r\nimport { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport default function configureStore(reducer, initialState = {}) {\r\n\tconst enhancer = compose(\r\n\t\tapplyMiddleware(thunk),\r\n\t\twindow.devToolsExtension ? window.devToolsExtension() : f => f\r\n\t);\r\n\treturn createStore(reducer, initialState, enhancer);\r\n}"],"sourceRoot":""}